<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Disaster Response Chatbot - India Emergency Help</title>
    <style>
      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto,
          sans-serif;
        background-color: #f5f5f5;
        height: 100vh;
        display: flex;
        justify-content: center;
        align-items: center;
      }

      .chatbot-container {
        width: 400px;
        height: 600px;
        background: white;
        border-radius: 12px;
        box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
        display: flex;
        flex-direction: column;
        overflow: hidden;
      }

      .chatbot-header {
        background: linear-gradient(135deg, #e53e3e, #c53030);
        color: white;
        padding: 16px 20px;
        display: flex;
        align-items: center;
        justify-content: space-between;
      }

      .header-left {
        display: flex;
        align-items: center;
        gap: 12px;
      }

      .header-avatar {
        width: 32px;
        height: 32px;
        background: rgba(255, 255, 255, 0.2);
        border-radius: 6px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: bold;
      }

      .header-info h3 {
        font-size: 16px;
        font-weight: 600;
        margin-bottom: 2px;
      }

      .header-info p {
        font-size: 12px;
        opacity: 0.9;
      }

      .header-actions {
        display: flex;
        gap: 8px;
      }

      .header-btn {
        width: 28px;
        height: 28px;
        background: rgba(255, 255, 255, 0.2);
        border: none;
        border-radius: 4px;
        color: white;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
      }

      .chat-messages {
        flex: 1;
        padding: 16px;
        overflow-y: auto;
        background: #f8f9fa;
      }

      .message {
        margin-bottom: 16px;
      }

      .message.bot {
        display: flex;
        align-items: flex-start;
        gap: 8px;
      }

      .message-avatar {
        width: 24px;
        height: 24px;
        background: #e53e3e;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-size: 12px;
        flex-shrink: 0;
      }

      .message-content {
        background: white;
        padding: 12px 16px;
        border-radius: 16px;
        border-bottom-left-radius: 4px;
        box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        max-width: 280px;
        line-height: 1.4;
        font-size: 14px;
      }

      .message.user .message-content {
        background: #007bff;
        color: white;
        margin-left: auto;
        border-bottom-right-radius: 4px;
        border-bottom-left-radius: 16px;
      }

      .quick-actions {
        padding: 0 16px 8px;
        display: flex;
        gap: 8px;
        flex-wrap: wrap;
      }

      .quick-btn {
        padding: 8px 12px;
        border: 1px solid #e2e8f0;
        background: white;
        border-radius: 20px;
        font-size: 12px;
        cursor: pointer;
        transition: all 0.2s;
      }

      .quick-btn:hover {
        background: #f1f5f9;
        border-color: #cbd5e0;
      }

      .quick-btn.emergency {
        background: #fed7d7;
        border-color: #feb2b2;
        color: #c53030;
      }

      .input-section {
        padding: 16px;
        border-top: 1px solid #e2e8f0;
        background: white;
      }

      .input-container {
        display: flex;
        gap: 8px;
        align-items: flex-end;
      }

      .message-input {
        flex: 1;
        padding: 12px 16px;
        border: 1px solid #e2e8f0;
        border-radius: 24px;
        outline: none;
        font-size: 14px;
        resize: none;
        font-family: inherit;
      }

      .message-input:focus {
        border-color: #3182ce;
      }

      .send-btn {
        width: 40px;
        height: 40px;
        background: #a0aec0;
        border: none;
        border-radius: 50%;
        color: white;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        transition: background 0.2s;
      }

      .send-btn:hover {
        background: #718096;
      }

      .send-btn.active {
        background: #3182ce;
      }

      .emergency-contacts {
        background: #fed7d7;
        margin: 0 16px 16px;
        padding: 12px;
        border-radius: 8px;
        border-left: 4px solid #e53e3e;
      }

      .emergency-title {
        display: flex;
        align-items: center;
        gap: 8px;
        font-weight: 600;
        color: #c53030;
        font-size: 14px;
        margin-bottom: 8px;
      }

      .contacts-text {
        font-size: 12px;
        color: #2d3748;
        line-height: 1.4;
      }

      .welcome-message {
        color: #4a5568;
        font-size: 13px;
        line-height: 1.5;
      }

      .highlight {
        color: #e53e3e;
        font-weight: 500;
      }

      @media (max-width: 480px) {
        .chatbot-container {
          width: 100%;
          height: 100vh;
          border-radius: 0;
        }
      }

      .typing-indicator {
        display: none;
        padding: 8px 16px;
        font-style: italic;
        color: #718096;
        font-size: 12px;
      }

      .typing-indicator.show {
        display: block;
      }
    </style>
  </head>
  <body>
    <div class="chatbot-container">
      <!-- Header -->
      <div class="chatbot-header">
        <div class="header-left">
          <div class="header-avatar">IN</div>
          <div class="header-info">
            <h3>Disaster Response Chatbot</h3>
            <p>India Emergency Help</p>
          </div>
        </div>
        <div class="header-actions">
          <button class="header-btn">‚ö°</button>
          <button class="header-btn">‚úï</button>
        </div>
      </div>

      <!-- Messages Area -->
      <div class="chat-messages" id="chatMessages">
        <div class="message bot">
          <div class="message-avatar">ü§ñ</div>
          <div class="message-content welcome-message">
            <strong>Welcome to India Disaster Response Chatbot!</strong
            ><br /><br />
            I can help you with:<br />
            ‚Ä¢ State-wise disaster helpline numbers<br />
            ‚Ä¢ Disaster safety instructions (Earthquake, Flood, Fire, Cyclone,
            Tsunami, Landslide)<br />
            ‚Ä¢ Emergency contact numbers<br />
            ‚Ä¢ General disaster preparedness advice<br /><br />
            <span class="highlight"
              >üí° Try typing: 'help fire', 'earthquake help', 'flood safety', or
              use quick action buttons!</span
            >
          </div>
        </div>
      </div>

      <!-- Quick Actions -->
      <div class="quick-actions">
        <button
          class="quick-btn emergency"
          onclick="sendQuickMessage('emergency')"
        >
          Emergency
        </button>
        <button class="quick-btn" onclick="sendQuickMessage('help earthquake')">
          Earthquake
        </button>
        <button class="quick-btn" onclick="sendQuickMessage('help flood')">
          Flood
        </button>
        <button class="quick-btn" onclick="sendQuickMessage('help fire')">
          Fire
        </button>
      </div>

      <!-- Typing Indicator -->
      <div class="typing-indicator" id="typingIndicator">Bot is typing...</div>

      <!-- Emergency Contacts -->
      <div class="emergency-contacts">
        <div class="emergency-title">üö® Emergency Contacts:</div>
        <div class="contacts-text">
          Police: 100 | Fire: 101 | Ambulance: 102 | Women: 1091 | Child: 1098 |
          Disaster: 108
        </div>
      </div>

      <!-- Input Section -->
      <div class="input-section">
        <div class="input-container">
          <textarea
            class="message-input"
            id="messageInput"
            placeholder="Type your message..."
            rows="1"
            onkeypress="handleKeyPress(event)"
            oninput="adjustTextareaHeight(this)"
          ></textarea>
          <button class="send-btn" id="sendBtn" onclick="sendMessage()">
            ‚ñ≤
          </button>
        </div>
      </div>
    </div>

    <script>
      // Disaster chatbot data
      const stateHelplines = {
        'andhra pradesh': '108, 112',
        'arunachal pradesh': '1070, 112',
        assam: '1077, 1070, 0361-2237219, 9401044617',
        bihar: '1078, 18002456145',
        chhattisgarh: '1070, 112',
        delhi: '1077, Central Control Room: 011-24611210',
        goa: '108, 112',
        gujarat: '1078, 079-23276944, 1077',
        haryana: '112, NDRF: 9711077372',
        'himachal pradesh': '1100, 1070, 1077',
        jharkhand: '1070, 112',
        karnataka: '080-1070, 080-22340676',
        kerala: '1070, 1077',
        'madhya pradesh': '108, 1070',
        maharashtra: '1916, 108',
        manipur: '1070, 112',
        meghalaya: '108, 1070',
        mizoram: '1070, 112',
        nagaland: '1070, 112',
        odisha: '1078, 1093, 112, 1800 200 4444',
        punjab: '8968215758, NDRF: 011-26107953',
        rajasthan: '1078',
        sikkim: '1070, 112',
        'tamil nadu': '1070, 1078, 1077',
        telangana: '108, 112, 211111111',
        tripura: '1070, 112',
        'uttar pradesh': '1070, 112',
        uttarakhand: '1070, 9557444486',
        'west bengal': '1800-11-3330, 1070, 2214-4052',
        'jammu and kashmir': '1077',
        ladakh: '1077',
        puducherry: '1077',
        chandigarh: '1077',
        'daman and diu': '1077',
        'dadra and nagar haveli': '1077',
        lakshadweep: '1077',
        'andaman and nicobar islands': '1077',
      };

      const disasterInstructions = {
        earthquake: [
          'üö® EARTHQUAKE SAFETY INSTRUCTIONS:',
          '‚Ä¢ Drop, Cover, and Hold On immediately',
          '‚Ä¢ Stay away from windows, glass, and heavy objects',
          '‚Ä¢ If indoors: Stay inside, get under a sturdy table/desk',
          '‚Ä¢ If outdoors: Move to an open area away from buildings, trees, and power lines',
          '‚Ä¢ If in a vehicle: Stop safely and stay inside',
          '‚Ä¢ After shaking stops: Check for injuries and damage',
          '‚Ä¢ Be prepared for aftershocks',
          '‚Ä¢ Listen to emergency broadcasts for updates',
        ],
        flood: [
          'üåä FLOOD SAFETY INSTRUCTIONS:',
          'IMMEDIATE ACTIONS:',
          '‚Ä¢ Listen to weather alerts, move to higher ground if flash flood likely',
          '‚Ä¢ Avoid crossing moving water: Six inches can knock down a person',
          '‚Ä¢ Do not drive into flooded roads; abandon car if trapped and safely climb to higher ground',
          '',
          'PREPARATION:',
          '‚Ä¢ Elevate electrical and valuable items; turn off utilities before evacuation',
          '‚Ä¢ Prepare an emergency kit and ensure outdoor objects are secured',
          '‚Ä¢ Keep important documents in waterproof containers',
          '‚Ä¢ Stay tuned to weather updates and emergency broadcasts',
        ],
        fire: [
          'üî• FIRE SAFETY INSTRUCTIONS:',
          'PREVENTION MEASURES:',
          '‚Ä¢ Establish clear evacuation routes with proper signage and conduct regular drills',
          '‚Ä¢ Install smoke detectors and fire alarms in high-risk areas',
          '‚Ä¢ Use fire-resistant materials for furnishings and construction',
          '',
          'DURING FIRE:',
          '‚Ä¢ Know how to raise alarm, call fire brigade (101), and evacuate safely',
          '‚Ä¢ Get out of the building immediately',
          '‚Ä¢ If trapped, close doors and seal gaps with wet cloths',
          '‚Ä¢ Stay low to avoid smoke inhalation',
          '‚Ä¢ Never use elevators during a fire; evacuate using stairs',
          '‚Ä¢ Stop, Drop, and Roll if your clothes catch fire',
        ],
        cyclone: [
          'üåÄ CYCLONE SAFETY INSTRUCTIONS:',
          'PREPARATION BEFORE CYCLONE SEASON:',
          '‚Ä¢ Secure roof tiles, repair doors/windows, trim trees',
          '‚Ä¢ Store emergency food, water, medicine, and light sources',
          '‚Ä¢ Prepare emergency kit and secure outdoor objects',
          '',
          'WHEN WARNING IS ISSUED:',
          '‚Ä¢ Move away from low-lying coastal areas early',
          '‚Ä¢ Board up glass windows; remove or secure loose items outside',
          '‚Ä¢ Switch off electricity; shelter in strong, safe interior rooms',
          "‚Ä¢ Do not go out during lull (eye of cyclone); wait for official 'all clear'",
        ],
      };

      function processMessage(message) {
        const messageLower = message.toLowerCase();

        // Emergency response
        if (
          messageLower.includes('emergency') ||
          messageLower.includes('danger')
        ) {
          return getEmergencyResponse();
        }

        // State helpline detection
        for (const [state, helpline] of Object.entries(stateHelplines)) {
          if (messageLower.includes(state)) {
            return `üìç ${state.toUpperCase()} Disaster Helpline Numbers:\n\nüö® State Emergency Numbers:\n‚Ä¢ ${helpline}\n\nüìû Additional Emergency Contacts:\n‚Ä¢ Police: 100\n‚Ä¢ Fire: 101\n‚Ä¢ Ambulance: 102\n‚Ä¢ National Disaster Management: 108\n‚Ä¢ NDRF: 011-24363260\n‚Ä¢ NDMA: 011-26701728\n\nüí° Available 24/7 for disaster-related emergencies`;
          }
        }

        // Disaster type detection
        for (const [disaster, instructions] of Object.entries(
          disasterInstructions
        )) {
          if (
            messageLower.includes(disaster) ||
            messageLower.includes(`help ${disaster}`) ||
            messageLower.includes(`${disaster} help`)
          ) {
            return (
              instructions.join('\n') +
              '\n\nüìû EMERGENCY CONTACTS:\n‚Ä¢ Police: 100\n‚Ä¢ Fire: 101\n‚Ä¢ Ambulance: 102\n‚Ä¢ Disaster Management: 108\n‚Ä¢ NDRF: 011-24363260\n‚Ä¢ NDMA: 011-26701728'
            );
          }
        }

        // General helplines
        if (
          messageLower.includes('helpline') ||
          messageLower.includes('number') ||
          messageLower.includes('contact')
        ) {
          return getGeneralHelplines();
        }

        return getDefaultResponse();
      }

      function getEmergencyResponse() {
        return `üö® EMERGENCY RESPONSE:\n\nIMMEDIATE ACTIONS:\n‚Ä¢ Call 100 for Police\n‚Ä¢ Call 101 for Fire\n‚Ä¢ Call 102 for Ambulance\n‚Ä¢ Call 108 for Disaster Management\n\nSTAY CALM AND FOLLOW THESE STEPS:\n1. Ensure your safety first\n2. Call emergency services immediately\n3. Follow their instructions\n4. Help others if it's safe to do so\n5. Stay in a safe location\n\nFor specific disaster instructions, mention the type of disaster.`;
      }

      function getGeneralHelplines() {
        return `üìû EMERGENCY HELPLINE NUMBERS:\n\nüö® IMMEDIATE EMERGENCY:\n‚Ä¢ Police: 100\n‚Ä¢ Fire: 101\n‚Ä¢ Ambulance: 102\n‚Ä¢ Disaster Management: 108\n\nüë• SPECIALIZED HELPLINES:\n‚Ä¢ Women Helpline: 1091\n‚Ä¢ Child Helpline: 1098\n‚Ä¢ Senior Citizen Helpline: 1090\n\nüèõÔ∏è DISASTER MANAGEMENT:\n‚Ä¢ NDRF: 011-24363260\n‚Ä¢ NDMA: 011-26701728\n‚Ä¢ State Disaster Helpline: 1077\n\nFor state-specific help, mention your state name.`;
      }

      function getDefaultResponse() {
        return `I'm here to help with disaster-related emergencies in India.\n\nI can assist you with:\n‚Ä¢ State-wise disaster helpline numbers\n‚Ä¢ Safety instructions for different disasters\n‚Ä¢ Emergency contact numbers\n‚Ä¢ Disaster preparedness advice\n\nüìç State-Specific Help Available!\nPlease tell me which state you're in for personalized assistance:\n‚Ä¢ Just type your state name (e.g., 'Maharashtra', 'Kerala', 'Tamil Nadu')\n‚Ä¢ Or mention it in a sentence (e.g., 'I'm in Gujarat and need help')\n\nOther options:\n‚Ä¢ Type disaster name for safety instructions\n‚Ä¢ 'help [disaster]' or '[disaster] help' (e.g., 'help fire', 'earthquake help')\n‚Ä¢ 'emergency' for immediate help\n‚Ä¢ 'helpline' for contact numbers`;
      }

      function addMessage(text, isUser = false) {
        const messagesContainer = document.getElementById('chatMessages');
        const messageDiv = document.createElement('div');
        messageDiv.className = `message ${isUser ? 'user' : 'bot'}`;

        if (!isUser) {
          messageDiv.innerHTML = `
                    <div class="message-avatar">ü§ñ</div>
                    <div class="message-content">${text.replace(
                      /\n/g,
                      '<br>'
                    )}</div>
                `;
        } else {
          messageDiv.innerHTML = `
                    <div class="message-content">${text}</div>
                `;
        }

        messagesContainer.appendChild(messageDiv);
        messagesContainer.scrollTop = messagesContainer.scrollHeight;
      }

      function sendMessage() {
        const input = document.getElementById('messageInput');
        const message = input.value.trim();

        if (!message) return;

        // Add user message
        addMessage(message, true);
        input.value = '';
        adjustTextareaHeight(input);

        // Show typing indicator
        showTypingIndicator();

        // Simulate bot response delay
        setTimeout(() => {
          hideTypingIndicator();
          const response = processMessage(message);
          addMessage(response);
        }, 1000 + Math.random() * 1000);
      }

      function sendQuickMessage(message) {
        document.getElementById('messageInput').value = message;
        sendMessage();
      }

      function handleKeyPress(event) {
        if (event.key === 'Enter' && !event.shiftKey) {
          event.preventDefault();
          sendMessage();
        }
      }

      function adjustTextareaHeight(textarea) {
        textarea.style.height = 'auto';
        textarea.style.height = Math.min(textarea.scrollHeight, 100) + 'px';

        // Update send button state
        const sendBtn = document.getElementById('sendBtn');
        if (textarea.value.trim()) {
          sendBtn.classList.add('active');
        } else {
          sendBtn.classList.remove('active');
        }
      }

      function showTypingIndicator() {
        document.getElementById('typingIndicator').classList.add('show');
      }

      function hideTypingIndicator() {
        document.getElementById('typingIndicator').classList.remove('show');
      }

      // Initialize
      document.addEventListener('DOMContentLoaded', function () {
        document.getElementById('messageInput').focus();
      });
    </script>
  </body>
</html>
